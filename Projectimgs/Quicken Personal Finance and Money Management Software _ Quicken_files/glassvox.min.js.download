/*
 * Version:  6.6.100B222  
 * Copyright (c) 11-05-2023 GlassBox http://www.glassboxdigital.com
 */

"use strict";function GlassVoxConfigValidator(e,t){var o=this;this._defaultConfig=e,this._requiredConfig=t,this.fixBackwardsCompatability=function(e){return e=this.fixButtonFormat(e)},this.fixButtonFormat=function(e){if(e.triggers&&0<e.triggers.length)for(var t=0;t<e.triggers.length;++t)e.triggers[t].buttonFormat&&e.triggers[t].buttonFormat.text&&!e.triggers[t].buttonFormat.desktop&&(e.triggers[t].buttonFormat.desktop={text:e.triggers[t].buttonFormat.text,styles:e.triggers[t].buttonFormat.styles},e.triggers[t].buttonFormat.mobile={text:e.triggers[t].buttonFormat.text,styles:e.triggers[t].buttonFormat.styles},delete e.triggers[t].buttonFormat.text,delete e.triggers[t].buttonFormat.styles);return e},this._isObject=function(e){return e&&"object"==typeof e&&!Array.isArray(e)},this._mergeConfig=function(e,t){if(t&&o._isObject(e)&&o._isObject(t))for(var i in t){var a;o._isObject(t[i])?(e[i]||(e[i]={}),o._mergeConfig(e[i],t[i])):((a={})[i]=t[i],Object.assign(e,a))}return e},this._cloneObject=function(e){return JSON.parse(JSON.stringify(e))},this.lastError="",this.validateConfig=function(e){e=e||{};var t={};o.lastError="";try{var i,a=this._cloneObject(o._defaultConfig),t=this._mergeConfig(a,e);for(i in o._requiredConfig){if(!t[i])throw"Required config setting missing: "+i;var l=o._requiredConfig[i],n=t[i];o._validateConfigProperty(l,n,i)}}catch(e){t=void 0,o.lastError=e}return t},this._validateConfigProperty=function(e,t,i){var a=o._validateType(e,t,i);if(!a.isValid)throw a.reason||" type validation failed";if("string"==typeof t){if(!(a=o._validateString(e,t,i)).isValid)throw a.reason||" string validation failed"}else if("number"==typeof t){if(!(a=o._validateNumber(e,t,i)).isValid)throw a.reason||" number validation failed"}else if(Array.isArray(t)&&!(a=o._validateArray(e,t,i)).isValid)throw a.reason||" array validation failed";return a},this._validateType=function(e,t,i){if("array"===e.type){if(!Array.isArray(t))return{isValid:!1,reason:" property was not an array (property: "+i+", actual: "+typeof t+")"}}else if(typeof t!==e.type)return{isValid:!1,reason:" property type does not match (property: "+i+", expected: "+e.type+", actual: "+typeof t+")"};return{isValid:!0}},this._validateString=function(e,t,i){return o._checkLength(e,t)?o._checkValueMustNotEqual(e,t)?{isValid:!1,reason:' string must not equal "'+e.valueMustNotEqual+'"  (property: '+i+", actual: "+t+")"}:{isValid:!0}:{isValid:!1,reason:" string is wrong length (property: "+i+", expected: "+e.length+", actual: "+t.length+")"}},this._validateArray=function(e,t,i){return e.minCount&&t.length<e.minCount?{isValid:!1,reason:" array does not contain enough elements (property: "+i+", expected at least: "+e.minCount+", actual: "+t.length+")"}:e.mustContain?o._checkItemContainsRequired(e,t):{isValid:!0}},this._validateNumber=function(e,t,i){return o._checkMaxValue(e,t)?o._checkMinValue(e,t)?{isValid:!0}:{isValid:!1,reason:" number is less than minimum allowed value (property: "+i+", min value: "+e.minValue+", actual: "+t+")"}:{isValid:!1,reason:" number is greater than maximum allowed value (property: "+i+", max value: "+e.maxValue+", actual: "+t+")"}},this._checkItemContainsRequired=function(e,t){if("object"===e.type)for(var i=Object.keys(e.mustContain),a=0;a<i.length;a++){var l=i[a];if(!o._checkKeyIsPresent(l,t))return{isValid:!1,reason:" expected property is not present: "+l};if(!(s=o._validateConfigProperty(e.mustContain[l],t[l],l)).isValid)throw s.validationResult?s.reason:" array validation failed"}if("array"===e.type)for(a=0;a<t.length;a++)for(var i=Object.keys(e.mustContain),n=0;n<i.length;n++){var s,l=i[n];if(!o._checkKeyIsPresent(l,t[a]))return{isValid:!1,reason:" expected property is not present: "+l};if(!(s=o._validateConfigProperty(e.mustContain[l],t[a][l],l)).isValid)throw s.validationResult?s.reason:" array validation failed"}return{isValid:!0}},this._checkLength=function(e,t){return!e.length||t.length===e.length},this._checkMaxValue=function(e,t){return!e.maxValue||t<=e.maxValue},this._checkMinValue=function(e,t){return!e.minValue||t>=e.minValue},this._checkKeyIsPresent=function(e,t){return!!t[e]},this._checkValueMustNotEqual=function(e,t){return!!e.valueMustNotEqual&&t===e.valueMustNotEqual}}function GlassVoxButton(e,t,i,a){var u=this;this._config=t||{},this._eventBus=i,this._clickFn=a&&"function"==typeof a?a:function(){},this._iframeStyle="",this._bodyStyle="",this._iframeId="gb_feedback_button_"+e,this._iframeTitle="Glassbox Feedback button",this._createStyles=function(){try{var e="background-color:transparent!important;box-shadow:none!important;border:none!important;margin:0!important;padding:0!important;position:fixed!important;z-index:2147483646!important;overflow:hidden!important;width:0px!important;height:0px!important;_TOP__LEFT__BORDER_RADIUS_",t="body{position:absolute!important;border:none!important;margin:0!important;-webkit-touch-callout:none!important;-webkit-user-select:none!important;-khtml-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important;text-align:center!important;_TRANSFORM__WRITING_MODE__PADDING__FONT_SIZE__TEXT_COLOUR__BACKGROUND_COLOUR__FONT_FAMILY__FONT_WEIGHT_cursor:pointer!important;}",i="writing-mode:vertical-lr",a="",l="",n="",s="",o="",r="",c=u._config.styles.buttonTextColour,p=u._config.styles.buttonBackgroundColour,d=u._config.styles.fontFamily||"Open Sans";switch(u._config.styles.vertical){case"top":switch(l="top:0px!important;",o=i+"!important;",u._config.styles.horizontal){case"left":s="transform:rotate(180deg)!important;bottom:0px !important;",r="border-bottom-right-radius:4px!important;border-top-right-radius:4px!important;";break;case"right":r="border-bottom-left-radius:4px!important;border-top-left-radius:4px!important;";break;default:r="border-bottom-left-radius:4px!important;border-bottom-right-radius:4px!important;"}break;case"bottom":l="bottom:0px!important;",r="left"===u._config.styles.horizontal?"border-top-right-radius:4px!important;border-top-left-radius:4px!important;":"border-top-left-radius:4px!important;border-top-right-radius:4px!important;";break;default:switch(l="top:47vh!important;",o=i+"!important;",u._config.styles.horizontal){case"left":s="transform:rotate(180deg)!important;bottom:0px !important;",r="border-top-right-radius:4px!important;border-bottom-right-radius:4px!important;";break;case"right":r="border-top-left-radius:4px!important;border-bottom-left-radius:4px!important;";break;default:r="border-top-left-radius:4px!important;border-top-right-radius:4px!important;border-bottom-left-radius:4px!important;border-bottom-right-radius:4px!important;"}}switch(u._config.styles.horizontal){case"left":n="left:0px!important;",a="padding:10px 11px 10px 11px!important;";break;case"right":n="right:0px!important;",a="padding:10px 11px 10px 11px!important;";break;default:n="left:47vw!important;",a="padding:11px 10px 11px 10px!important;"}e=(e=(e=e.replace("_TOP_",l)).replace("_LEFT_",n)).replace("_BORDER_RADIUS_",r),t=(t=(t=(t=(t=(t=(t=(t=t.replace("_FONT_SIZE_","font-size:16px!important;")).replace("_TRANSFORM_",s)).replace("_WRITING_MODE_",o)).replace("_PADDING_",a)).replace("_TEXT_COLOUR_","color:"+c+"!important;")).replace("_BACKGROUND_COLOUR_","background-color:"+p+"!important;")).replace("_FONT_FAMILY_","font-family:"+d+"!important;")).replace("_FONT_WEIGHT_","font-weight:600!important;"),u._iframeStyle=e,u._bodyStyle=t}catch(e){u._eventBus&&u._eventBus.emit("glassvoxError","GlassVoxButton._createStyles",e)}},this._setIframeStyles=function(){if(u._iframe)try{var e=u._iframe.contentDocument.head,t=u._iframe.contentDocument.createElement("LINK"),i=(t.setAttribute("rel","stylesheet"),t.setAttribute("href","//fonts.googleapis.com/css?family=Open+Sans:300,400,600,700"),e.appendChild(t),u._iframe.contentDocument.createElement("STYLE")),a=(i.innerHTML=u._bodyStyle,e.appendChild(i),u._iframe.contentDocument.body);a.setAttribute("id",u._iframeId+"_body"),a.innerHTML=u._config.text.replace(/\s/g,"&nbsp;").replace(/-/g,"&#8209;"),u._iframe.setAttribute("style",u._iframeStyle),setTimeout(u._setIframePosition,1e3),setTimeout(u._setIframePosition,7e3)}catch(e){u._eventBus&&u._eventBus.emit("glassvoxError","GlassVoxButton._setIframeStyles",e)}},this._setIframePosition=function(){if(u._iframe)try{var e,t,i="number"==typeof u._config.styles.offset?u._config.styles.offset:"top"===u._config.styles.vertical?50:"left"===u._config.styles.horizontal?20:80,a=u._config.styles.buttonWidth||u._iframe.contentWindow.document.body.offsetWidth,l=u._config.styles.buttonHeight||u._iframe.contentWindow.document.body.offsetHeight;"bottom"===u._config.styles.vertical?(e=i*(document.documentElement.clientWidth-a)/100,u._iframe.style.setProperty("left",e+"px","important")):(u._config.styles.buttonWidth&&u._config.styles.buttonHeight&&(a=u._config.styles.buttonHeight,l=u._config.styles.buttonWidth),e=i*(document.documentElement.clientHeight-l)/100,u._iframe.style.setProperty("top",e+"px","important")),u._iframe.style.setProperty("width",a+"px","important"),u._iframe.style.setProperty("min-width",a+"px","important"),u._iframe.style.setProperty("height",l+"px","important"),u._iframe.style.setProperty("min-height",l+"px","important"),u._iframe.contentDocument&&(t=u._iframe.contentDocument.body)&&t.style.setProperty("position","inherit","important")}catch(e){u._eventBus&&u._eventBus.emit("glassvoxError","GlassVoxButton._setIframePosition",e)}},this._addIframeToDocument=function(){try{document.body&&document.body.appendChild(u._iframe)}catch(e){u._eventBus&&u._eventBus.emit("glassvoxError","GlassVoxButton._addIframeToDocument",e)}},this.destroy=function(){try{var e=document.querySelector("#"+u._iframeId);e&&e.parentElement&&e.parentElement.removeChild(e)}catch(e){u._eventBus&&u._eventBus.emit("glassvoxError","GlassVoxButton.destroy",e)}},this.showButton=function(){try{u._createStyles(),u.destroy(),u._iframe=document.createElement("iframe"),u._iframe.setAttribute("style",u._iframeStyle),u._iframe.setAttribute("frameborder","0"),u._iframe.setAttribute("scrolling","no"),u._iframe.setAttribute("title",u._iframeTitle),u._iframe.setAttribute("id",u._iframeId),u._iframe.setAttribute("name",u._iframeId),u._iframe.setAttribute("src","about:blank"),u._iframe.onload=function(){try{u._iframe.contentDocument.body.addEventListener("click",u._clickFn),u._setIframeStyles()}catch(e){u.destroy()}},document.body?u._addIframeToDocument():u._eventBus.once("init:loaded",u._addIframeToDocument)}catch(e){u._eventBus&&u._eventBus.emit("glassvoxError","GlassVoxButton.showButton",e)}},this.initialise=function(e){try{u._config=e;var t=u._config.styles.position.split("-");if(!(2===t.length&&0<=["left","centre","right"].indexOf(t[0])&&0<=["top","middle","bottom"].indexOf(t[1])))throw"GlassVoxButton config error: styles.position is not valid";u._config.styles.horizontal=t[0],u._config.styles.vertical=t[1]}catch(e){u._eventBus&&u._eventBus.emit("glassvoxError","GlassVoxButton.initialise",e)}},window.addEventListener("resize",u._setIframePosition),u.initialise(u._config)}function GlassVoxTrigger(e,t,i,a){var l=this;this.enabledStruggles=[],this.threshold=0,this.timeout=0,this._surveyId=e,this._storageAccessor=t,this._eventBus=a,this.isButton=!1,this._config=i||{},this.getButtonConfig=function(){try{return l._config.buttonFormat}catch(e){l._eventBus&&l._eventBus.emit("glassvoxError","GlassVoxTrigger.getButtonConfig",e)}},this.initialise=function(e){try{l._config=e,l.isButton=!!e.buttonFormat,l.enabledStruggles=e.filters.struggle?e.filters.struggle.slice():[],l.threshold=e.filters.threshold||1,l.timeout=e.filters.delay?1e3*e.filters.delay:0}catch(e){l._eventBus&&l._eventBus.emit("glassvoxError","GlassVoxTrigger.initialise",e)}},this._convertRegexToSimple=function(e){for(var t=[],i=0;i<e.length;i++){var a=e.charCodeAt(i);42===a?t.push(".*"):(l._checkNotUpperCaseLetter(a)&&l._checkNotLowerCaseLetter(a)&&l._checkNotNumber(a)&&t.push("\\"),t.push(e[i].toLowerCase()))}return new RegExp("^"+t.join("")+"$")},this._checkNotUpperCaseLetter=function(e){return!(65<=e&&e<=90)},this._checkNotLowerCaseLetter=function(e){return!(97<=e&&e<=122)},this._checkNotNumber=function(e){return!(48<=e&&e<=57)},this.isTriggered=function(){try{if(!l.isButton){var e=l._storageAccessor.get("glassvox:"+l._surveyId);if((e=e&&JSON.parse(e))&&(e.completed||e.closed))return!1}if(l._config.filters&&l._config.filters.pages){if(l._config.filters.pages.length<1)return!0;for(var t=0;t<l._config.filters.pages.length;t++){var i=l._config.filters.pages[t],a=(window.location.protocol+"//"+window.location.hostname+window.location.pathname).toLowerCase();if(i.url&&i.url.toLowerCase()===a)return!0;if(this._convertRegexToSimple(i.url).test(a))return!0}}return!1}catch(e){return l._eventBus&&l._eventBus.emit("glassvoxError","GlassVoxTrigger.isTriggered",e),!1}},this.destroy=function(){},l.initialise(l._config)}function GlassVoxSurvey(e,t,i,a){var b=this;this.enabledStruggles=[],this.struggleThreshold=0,this._timeout=a,this._struggleTriggeredCount=0,this._eventBus=t,this._config=e||{},this._forPreview=!!i,this._currentPage=0,this._isThankYouPage=!1,this._isErrorPage=!1,this._collectedPageResultsFromPrivacyPage=!1,this._iframeStyle="box-shadow:none;border:none;margin:0;padding:0;position:fixed;z-index:2147483647;overflow:hidden;width:100vw;height:100vh;top:0;left:0;",this._iframeId="gb_feedback_iframe",this._iframeTitle="Glassbox Feedback",this._externalResourcesRoot="https://cdn.gbqofs.com/glassvox/staticimages/",this._getExternalSvg=function(e,t){return'<img alt="'+(t||e)+'" src="'+b._externalResourcesRoot+e+'.svg" />'},this._docStyle='/*reset*/*,::before,::after{background-repeat:no-repeat;box-sizing:inherit;}::before,::after{text-decoration:inherit;vertical-align:inherit;}html{background-color:rgba(0,0,0,0.24);box-sizing:border-box;cursor:default;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{position:fixed;overflow:auto;width:100vw;height:100vh;top:5vh;left:5vw;}article,aside,footer,header,nav,section{display:block;}button,input,optgroup,select,textarea{margin:0;}button,input,select,textarea{background-color:transparent;color:inherit;font-size:inherit;line-height:inherit;font:inherit;}button,input{overflow:visible;}button,select{text-transform:none;}button,html [type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button;}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText;}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;width:100%;padding:0;white-space:normal}progress{display:inline-block;vertical-align:baseline;}textarea{overflow:auto;resize:vertical;outline:none;}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0;}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto;}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px;}[type="search"]::-webkit-search-cancel-button,[type="search"]::-webkit-search-decoration{-webkit-appearance:none;}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit;}/*Global*/.hidden{display:none;}body{margin:0;font-family:_FONT_FAMILY_;font-size:_FONT_SIZE_LARGE_px;font-style:normal;font-weight:400;line-height:24px;letter-spacing:0px;color:#141454;}form{overflow:auto;}fieldset{border:0px;padding:0px;margin:0px;}legend{padding:12px 0 12px 0;}header{width:100%;margin:24px auto;display:inline-block;text-align:_TEXT_ALIGN_;}header img{display:block;margin:_HEADER_IMG_MARGIN_;max-height:40px;}header p{line-height:24px;margin:0 36px 0 36px;}header.thankyou{margin-top:60px;margin-bottom:36px;}header.bold p{font-size:18px;font-weight:600;}footer{text-align:right;margin-bottom:16px;font-size:_FONT_SIZE_px;line-height:18px;font-family:Open Sans;}footer a{width:64px;display:inline-block;margin-right:16px;margin-left:4px;}footer a img{width:100%;}.survey-container{margin:0 auto;width:520px;background:_BACKGROUND_COLOUR_;color:_TEXT_COLOUR_;box-shadow:0px 2px 4px rgb(0 0 0 / 20%);border-radius:8px;max-height:90vh;overflow:auto;position:relative;}#closex{font-size:20px;position:absolute;top:16px;right:16px;cursor:pointer;}.gb-voc_group{text-align:_TEXT_ALIGN_;margin:0 18px 8px 18px;padding:0 18px 0 18px;border-radius:4px;}.gb-voc_group p.missing{margin:0;visibility:hidden;color:red;font-size:11px;}.gb-voc_group.missing{background-color:#FFECF0;}.gb-voc_group.missing p{visibility:visible;}.gb-voc_error p{color:red;}.gb-voc_paging{margin-bottom:40px;}.gb-voc_group fieldset{text-align:_TEXT_ALIGN_;}textarea{width:75%;min-height:100px;resize:none;}input[type="radio"]{position:absolute;opacity:0;}input[type="radio"] + svg, input[type="radio"] + span{-webkit-transition:all 0.2s;transition:all 0.2s;}input + svg,input + span{cursor:pointer;position:relative;}button{border-radius:4px;border:none;height:36px;margin:0 auto;display:block;font-size:16px;font-weight:600;}/*Submit*/.gb-voc_submit{margin-bottom:28px;}button{background-color:_BUTTON_BACKGROUND_COLOUR_;color:_BUTTON_TEXT_COLOUR_;padding:0 34px;}button:hover{cursor:pointer;}#btnPrivacyPolicy{background-color: #FFF; color: #AAA; display: inline-block; padding: 0 34px;line-height: 36px;margin: 0 auto;font-size: 16px;font-weight: 600;text-decoration: none;}#btnPrivacyPolicy:hover{text-decoration:none}#btnPrivacyConfirm{display: inline-block}.privacy img{min-height: 40px}.privacy p {font-weight: 600}@media only screen and (max-width: 600px) {.survey-container{ width: 100%; top: 50%; border-radius:0; transform: translateY(-50%);}body{top:0;left:0;}}',this._docStyleConfigurable="#gb_feedback_header{font-size:_HEADER_FONT_SIZE_;font-weight:_HEADER_FONT_WEIGHT_}",this._docStyleCsat="input.csat+label svg{overflow:visible;cursor:pointer;}input.csat+label svg g{filter:none;}input.csat+label svg ellipse{display:none; fill:transparent;}input.csat+label svg rect{display:none; fill:transparent;}input.csat+label svg circle.selected{display:none; fill:transparent;}input.csat[val='1']+label svg circle{display:none; fill:transparent;}input.csat[val='2']+label svg circle{display:none; fill:transparent;}input.csat[val='3']+label svg circle{display:none; fill:transparent;}input.csat[val='4']+label svg circle{display:none; fill:transparent;}input.csat+label svg circle:not(.selected){display:inline; fill:transparent;}input.csat+label svg path.selected{display:none; fill:transparent;}input.csat[val='1']+label svg path:not(.selected){display:inline; fill:#F56075;}input.csat[val='2']+label svg path:not(.selected){display:inline; fill:#FF9A0C;}input.csat[val='3']+label svg path:not(.selected){display:inline; fill:#E7C248;}input.csat[val='4']+label svg path:not(.selected){display:inline; fill:#99D57C;}input.csat[val='5']+label svg path:not(.selected){display:inline; fill:#28BC7E;}input.csat[val='1'].unchecked+label svg circle{display:none; fill:transparent;}input.csat[val='1'].unchecked+label svg path.selected{display:none; fill:transparent;}input.csat[val='1'].unchecked+label svg path:not(.selected){display:inline; fill:#FBB5CC;}input.csat[val='2'].unchecked+label svg circle{display:none; fill:transparent;}input.csat[val='2'].unchecked+label svg path.selected{display:none; fill:transparent;}input.csat[val='2'].unchecked+label svg path:not(.selected){display:inline; fill:#FFCF86;}input.csat[val='3'].unchecked+label svg g{filter:none;}input.csat[val='3'].unchecked+label svg rect{display:none; fill:transparent;}input.csat[val='3'].unchecked+label svg circle{display:none; fill:transparent;}input.csat[val='3'].unchecked+label svg path:not(.selected){display:inline; fill:#F7E96E;}input.csat[val='3'].unchecked+label svg path.selected{display:none; fill:transparent;}input.csat[val='4'].unchecked+label svg g{filter:none;}input.csat[val='4'].unchecked+label svg circle{display:none; fill:transparent;}input.csat[val='4'].unchecked+label svg path.selected{display:none; fill:transparent;}input.csat[val='4'].unchecked+label svg path:not(.selected){display:inline; fill:#C8E9B9;}input.csat[val='5'].unchecked+label svg g{filter:none;}input.csat[val='5'].unchecked+label svg ellipse{display:none; fill:transparent;}input.csat[val='5'].unchecked+label svg circle.selected{display:none; fill:transparent;}input.csat[val='5'].unchecked+label svg circle:not(.selected){display:none; fill:transparent;}input.csat[val='5'].unchecked+label svg path.selected{display:none; fill:transparent;}input.csat[val='5'].unchecked+label svg path:not(.selected){display:inline; fill:#77E1B4;}input.csat[val='1']+label svg:hover g{filter:url(#drop_shadow);}input.csat[val='1']+label svg:hover circle{display:inline; fill:#FFECF0;}input.csat[val='1']+label svg:hover path.selected{display:none; fill:transparent;}input.csat[val='1']+label svg:hover path:not(.selected){display:inline; fill:#F56075;}input.csat[val='2']+label svg:hover g{filter:url(#drop_shadow);}input.csat[val='2']+label svg:hover circle{display:inline; fill:#FFE5BE;}input.csat[val='2']+label svg:hover path.selected{display:none; fill:transparent;}input.csat[val='2']+label svg:hover path:not(.selected){display:inline; fill:#FF9A0C;}input.csat[val='3']+label svg:hover g{filter:url(#drop_shadow);}input.csat[val='3']+label svg:hover rect{display:none; fill:transparent;}input.csat[val='3']+label svg:hover circle{display:inline; fill:#FFF8D6;}input.csat[val='3']+label svg:hover path.selected{display:none; fill:transparent;}input.csat[val='3']+label svg:hover path:not(.selected){display:inline; fill:#DBC501;}input.csat[val='4']+label svg:hover g{filter:url(#drop_shadow);}input.csat[val='4']+label svg:hover circle{display:inline; fill:#E1F3D8;}input.csat[val='4']+label svg:hover path.selected{display:none; fill:transparent;}input.csat[val='4']+label svg:hover path:not(.selected){display:inline; fill:#62BF36;}input.csat[val='5']+label svg:hover g{filter:url(#drop_shadow);}input.csat[val='5']+label svg:hover ellipse{display:none; fill:transparent;}input.csat[val='5']+label svg:hover circle.selected{display:none; fill:transparent;}input.csat[val='5']+label svg:hover circle:not(.selected){display:inline; fill:#CDF4E4;}input.csat[val='5']+label svg:hover path.selected{display:none; fill:transparent;}input.csat[val='5']+label svg:hover path:not(.selected){display:inline; fill:#28BC7E;}input.csat:active+label svg g{filter:url(#drop_shadow);}input.csat:active+label svg ellipse{display:none; fill:transparent;}input.csat:active+label svg circle.selected{display:none; fill:transparent;}input.csat[val='1']:active+label svg circle{display:inline; fill:#FFBDCC;}input.csat[val='2']:active+label svg circle{display:inline; fill:#FFCF86;}input.csat[val='3']:active+label svg circle{display:inline; fill:#FFEB8A;}input.csat[val='4']:active+label svg circle{display:inline; fill:#B3E19E;}input.csat[val='5']:active+label svg circle:not(.selected){display:inline; fill:#77E1B4;}input.csat:active+label svg path.selected{display:none; fill:transparent;}input.csat[val='1']:active+label svg path:not(.selected){display:inline; fill:#F42B6D;}input.csat[val='2']:active+label svg path:not(.selected){display:inline; fill:#F08C00;}input.csat[val='3']:active+label svg path:not(.selected){display:inline; fill:#C1AE01;}input.csat[val='4']:active+label svg path:not(.selected){display:inline; fill:#58AC31;}input.csat[val='5']:active+label svg path:not(.selected){display:inline; fill:#22A06B;}input.csat:checked+label svg g{filter:url(#drop_shadow)}input.csat[val='1']:checked+label svg circle{display:inline; fill:#FFBDCC;}input.csat[val='1']:checked+label svg path.selected{display:inline; fill:#F42B6D;}input.csat[val='1']:checked+label svg path:not(.selected){display:none; fill:transparent;}input.csat[val='2']:checked+label svg circle{display:inline; fill:#FFCF86;}input.csat[val='2']:checked+label svg path.selected{display:inline; fill:#F08C00;}input.csat[val='2']:checked+label svg path:not(.selected){display:none; fill:transparent;}input.csat[val='3']:checked+label svg rect{display:inline; fill:#C1AE01;}input.csat[val='3']:checked+label svg circle{display:inline; fill:#FFEB8A;}input.csat[val='3']:checked+label svg path.selected{display:inline; fill:#C1AE01;}input.csat[val='3']:checked+label svg path:not(.selected){display:none; fill:transparent;}input.csat[val='4']:checked+label svg circle{display:inline; fill:#B3E19E;}input.csat[val='4']:checked+label svg path:not(.selected){display:none; fill:transparent;}input.csat[val='4']:checked+label svg path.selected{display:inline; fill:#58AC31;}input.csat[val='5']:checked+label svg ellipse{display:inline; fill:#22A06B;}input.csat[val='5']:checked+label svg path.selected{display:inline; fill:#22A06B;}input.csat[val='5']:checked+label svg circle.selected{display:inline; fill:#77E1B4;}input.csat[val='5']:checked+label svg circle:not(.selected){display:inline; fill:#77E1B4;}input.csat[val='5']:checked+label svg path:not(.selected){display:none; fill:transparent;}",this._docStyleText="/*Text related styling*/textarea{font-family:Open Sans;background:#F8F9F9;border:1px solid #E5EAF0;box-sizing:border-box;border-radius:4px;padding:4px;height:116px;width:352px;}textarea:hover{background-color:#ECF0F4;border-color:#C4C4C4;}textarea:focus{background-color:#F8F9F9;border-color:#28AEF2;box-shadow:0px 0px 4px rgba(40,174,242,0.5);}",this._docStyleNps="/*NPS related styling*/.gb-voc_nps legend{text-align:_TEXT_ALIGN_;}.gb-voc_nps fieldset label{display:inline-block;margin-right:4px;}.gb-voc_nps p.missing{clear:both;}input.nps + span{width:28px;height:28px;display:inline-block;border:2px solid #457AEE;border-radius:50%;text-align:center;font-family:Open Sans;line-height:24px;color:#457AEE;background-color:transparent;font-weight:600;font-size:16px;letter-spacing:-0.12em;padding-right:2px;}input.nps.unchecked + span{color:#BDD5FB;border-color:#BDD5FB;background-color:transparent;}input.nps:hover + span{background-color:#EEF5FF;}input.nps:active + span{color:#457AD0;border-color:#457AD0;background-color:#EEF5FF;}input.nps:checked + span{color:#457AEE;border-color:#457AEE;background-color:#BDD5FB;}.npsworst,.npsbest{color:#457AD0;font-size:14px;font-weight:600;}.npsworst{position:relative;left:_NPS_WORST_LEFT_px;float:left;}.npsbest{position:relative;right:_NPS_BEST_RIGHT_px;float:right;}",this._docStyleMultiSelect='/*MultiSelect related styling*/.gb-voc_multiselect fieldset div:first-of-type{margin-top:0px}div.multiselect-option-container{margin-top:17px;text-align:left;padding-left:56px}div.multiselect-option{display:inline-block}label.multiselect-label{display:flex;align-items:center}label.multiselect-label:hover{cursor:pointer}label.multiselect-label:hover :not(input.multiselect-checkbox:checked)~span.multiselect-custom-checkbox{border-color:#98a1a6}label.multiselect-label:hover input.multiselect-checkbox:checked~span.multiselect-custom-checkbox{border-color:#01c2f2;background-color:#01c2f2;padding:2px 0 0 1px}input.multiselect-checkbox{opacity:0;cursor:pointer;height:0;width:0}input.multiselect-checkbox:checked~span.multiselect-custom-checkbox{background-color:#28aef2;border-color:#28aef2;padding:2px 0 0 1px}input.multiselect-checkbox:checked~span.multiselect-custom-checkbox:after{display:block;padding:2px 0 0 1px}span.multiselect-custom-checkbox{flex:none;height:18px;width:18px;background-color:#fff;border:2px solid #c9c9c9;border-radius:3px}span.multiselect-custom-checkbox::after{content:"";display:none;position:relative;left:4px;width:4px;height:9px;border:solid #fff;border-width:0 2px 2px 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}span.multiselect-checkbox-text{margin-left:13px;color:#457ad0;font-size:14px;font-weight:600}',this._docStyleSmall="@media only screen and (max-width: 450px) {div.gb-voc_group{margin:0 9px 8px 9px;}div.gb-voc_submit{margin-bottom:28px}}@media only screen and (max-width: 425px) {div.gb-voc_group{scale:70%;margin:-18px;}div.gb-voc_submit{margin-bottom:28px}}@media only screen and (max-width: 360px) {div.gb-voc_group{scale:70%;margin:-28px;}div.gb-voc_submit{margin-bottom:28px}}@media only screen and (max-width: 340px) {div.gb-voc_nps fieldset label{width:25px;height:25px;scale:80%;margin:0;}div.gb-voc_text textarea{width:100vw;}div.gb-voc_submit{margin-bottom:28px}}@media only screen and (max-width: 300px) {div.gb-voc_nps fieldset label{width:20px;height:20px;scale:70%;margin:0;}div.gb-voc_submit{margin-bottom:28px}}",this._fontSize=12,this._backgroundColour="#FFFFFF",this.visible=!1,this._openedTime=0,this._previousOpenDuration=0,this._csatSvgDropShadow='<svg width="0" height="0" style="position: absolute;"><defs><filter id="drop_shadow" x="-2" y="-2" width="40" height="40" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"></feColorMatrix><feOffset dy="2"></feOffset><feGaussianBlur stdDeviation="2"></feGaussianBlur><feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"></feColorMatrix><feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"></feBlend><feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"></feBlend></filter></defs></svg>',this._csatSvg1='<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><g><circle cx="16" cy="16" r="12" /><path fill-rule="evenodd" clip-rule="evenodd" d="M27.3332 15.9998C27.3332 22.2591 22.2591 27.3332 15.9999 27.3332C9.74069 27.3332 4.66658 22.2591 4.66658 15.9998C4.66658 9.74061 9.74069 4.6665 15.9999 4.6665C22.2591 4.6665 27.3332 9.74061 27.3332 15.9998ZM29.3332 15.9998C29.3332 23.3636 23.3637 29.3332 15.9999 29.3332C8.63612 29.3332 2.66658 23.3636 2.66658 15.9998C2.66658 8.63604 8.63612 2.6665 15.9999 2.6665C23.3637 2.6665 29.3332 8.63604 29.3332 15.9998ZM11.4439 22.6665C11.4439 23.2188 10.9962 23.6665 10.4439 23.6665C9.89164 23.6665 9.44392 23.2188 9.44392 22.6665C9.44392 19.046 12.3789 16.111 15.9995 16.111C17.8755 16.111 19.5139 17.0473 20.6594 18.2764C21.7958 19.4957 22.555 21.1178 22.555 22.6665C22.555 23.2188 22.1073 23.6665 21.555 23.6665C21.0027 23.6665 20.555 23.2188 20.555 22.6665C20.555 21.7338 20.0707 20.5782 19.1963 19.64C18.3311 18.7117 17.1917 18.111 15.9995 18.111C13.4835 18.111 11.4439 20.1505 11.4439 22.6665ZM11.0875 13.7193C11.0875 14.5913 10.3806 15.2982 9.50855 15.2982C8.63652 15.2982 7.9296 14.5913 7.9296 13.7193C7.9296 12.8473 8.63652 12.1403 9.50855 12.1403C10.3806 12.1403 11.0875 12.8473 11.0875 13.7193ZM22.1401 15.2982C23.0121 15.2982 23.719 14.5913 23.719 13.7193C23.719 12.8473 23.0121 12.1403 22.1401 12.1403C21.268 12.1403 20.5611 12.8473 20.5611 13.7193C20.5611 14.5913 21.268 15.2982 22.1401 15.2982ZM8.98816 8.62613C9.37866 8.23558 10.0118 8.23555 10.4024 8.62606L12.7099 10.9333C13.1004 11.3238 13.1005 11.957 12.71 12.3476C12.3195 12.7381 11.6863 12.7381 11.2957 12.3476L8.98823 10.0403C8.59768 9.64984 8.59765 9.01667 8.98816 8.62613ZM21.2472 8.62609C21.6378 8.23557 22.2709 8.23557 22.6614 8.62609C23.052 9.01662 23.052 9.64978 22.6614 10.0403L20.354 12.3477C19.9635 12.7382 19.3304 12.7382 18.9398 12.3477C18.5493 11.9572 18.5493 11.324 18.9398 10.9335L21.2472 8.62609Z" /><path class="selected" fill-rule="evenodd" clip-rule="evenodd" d="M16 27.3332C22.2593 27.3332 27.3334 22.2591 27.3334 15.9998C27.3334 9.74061 22.2593 4.6665 16 4.6665C9.74081 4.6665 4.6667 9.74061 4.6667 15.9998C4.6667 22.2591 9.74081 27.3332 16 27.3332ZM16 29.3332C23.3638 29.3332 29.3334 23.3636 29.3334 15.9998C29.3334 8.63604 23.3638 2.6665 16 2.6665C8.63624 2.6665 2.6667 8.63604 2.6667 15.9998C2.6667 23.3636 8.63624 29.3332 16 29.3332ZM11.3167 13.7189C11.3167 14.6669 10.5482 15.4354 9.60018 15.4354C8.65219 15.4354 7.88369 14.6669 7.88369 13.7189C7.88369 12.7709 8.65219 12.0024 9.60018 12.0024C10.5482 12.0024 11.3167 12.7709 11.3167 13.7189ZM22.1559 15.4354C23.1039 15.4354 23.8724 14.6669 23.8724 13.7189C23.8724 12.7709 23.1039 12.0024 22.1559 12.0024C21.2079 12.0024 20.4394 12.7709 20.4394 13.7189C20.4394 14.6669 21.2079 15.4354 22.1559 15.4354ZM22.6612 8.62593C22.2707 8.23541 21.6375 8.23541 21.247 8.62593C21.0601 8.81286 20.9729 9.05327 20.8819 9.30448C20.7828 9.57807 20.679 9.86447 20.4366 10.1085C19.9662 10.5821 19.5703 10.806 18.9396 10.9333C18.3088 11.0607 18.5491 11.957 18.9396 12.3475C19.3301 12.7381 19.8719 12.6205 20.3538 12.3475C20.4061 12.3179 20.4586 12.2885 20.5112 12.2591C20.943 12.0173 21.3819 11.7715 21.7996 11.3548C22.2701 10.8854 22.5006 10.459 22.6612 10.0401C22.8218 9.62125 23.0517 9.01645 22.6612 8.62593ZM12.7844 10.934C13.3924 11.0746 13.1749 11.9577 12.7844 12.3482C12.3939 12.7387 11.7891 12.5088 11.3702 12.3482C10.9513 12.1876 10.525 11.9572 10.0555 11.4866C9.6388 11.0689 9.39301 10.63 9.15122 10.1982C9.12178 10.1456 9.09239 10.0931 9.06276 10.0408C8.78984 9.55887 8.67224 9.01713 9.06276 8.6266C9.45329 8.23608 10.0865 8.23608 10.477 8.6266C10.6626 8.81228 10.7512 9.05345 10.8438 9.30593C10.9461 9.5845 11.0534 9.87683 11.3018 10.1236C11.7699 10.5886 12.1763 10.7935 12.7844 10.934Z" /><path class="selected" fill-rule="evenodd" clip-rule="evenodd" d="M11.2051 20.0594C11.2051 19.323 11.8021 18.7261 12.5384 18.7261H19.4611C20.1974 18.7261 20.7944 19.323 20.7944 20.0594C20.7944 20.7958 20.1974 21.3927 19.4611 21.3927H12.5384C11.8021 21.3927 11.2051 20.7958 11.2051 20.0594Z" /></g></svg>',this._csatSvg2='<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><g><circle cx="16" cy="16" r="12" /><path fill-rule="evenodd" clip-rule="evenodd" d="M27.3333 15.9998C27.3333 22.2591 22.2591 27.3332 15.9999 27.3332C9.74069 27.3332 4.66659 22.2591 4.66659 15.9998C4.66659 9.74061 9.74069 4.6665 15.9999 4.6665C22.2591 4.6665 27.3333 9.74061 27.3333 15.9998ZM29.3333 15.9998C29.3333 23.3636 23.3637 29.3332 15.9999 29.3332C8.63612 29.3332 2.66659 23.3636 2.66659 15.9998C2.66659 8.63604 8.63612 2.6665 15.9999 2.6665C23.3637 2.6665 29.3333 8.63604 29.3333 15.9998ZM11.3256 21.5904C12.0593 19.5595 13.8732 18.222 15.8245 18.222C17.7758 18.222 19.5896 19.5595 20.3233 21.5904L15.9878 21.5905L11.3256 21.5904ZM22.4239 21.6382L22.4115 21.5903C21.6022 18.4927 18.9596 16.222 15.8245 16.222C12.6894 16.222 10.0467 18.4927 9.23743 21.5902C9.07224 22.2225 8.98342 22.8892 8.98239 23.578L8.98238 23.5902C9.41854 23.5905 22.666 23.5906 22.6666 23.5902C22.6666 22.9144 22.5821 22.2599 22.4239 21.6382ZM11.0875 13.3684C11.0875 14.2404 10.3806 14.9473 9.50856 14.9473C8.63653 14.9473 7.92961 14.2404 7.92961 13.3684C7.92961 12.4963 8.63653 11.7894 9.50856 11.7894C10.3806 11.7894 11.0875 12.4963 11.0875 13.3684ZM22.1401 14.9473C23.0121 14.9473 23.719 14.2404 23.719 13.3684C23.719 12.4963 23.0121 11.7894 22.1401 11.7894C21.268 11.7894 20.5611 12.4963 20.5611 13.3684C20.5611 14.2404 21.268 14.9473 22.1401 14.9473Z" /><path class="selected" fill-rule="evenodd" clip-rule="evenodd" d="M27.3333 15.9998C27.3333 22.2591 22.2592 27.3332 16 27.3332C9.74076 27.3332 4.66666 22.2591 4.66666 15.9998C4.66666 9.74061 9.74076 4.6665 16 4.6665C22.2592 4.6665 27.3333 9.74061 27.3333 15.9998ZM29.3333 15.9998C29.3333 23.3636 23.3638 29.3332 16 29.3332C8.63619 29.3332 2.66666 23.3636 2.66666 15.9998C2.66666 8.63604 8.63619 2.6665 16 2.6665C23.3638 2.6665 29.3333 8.63604 29.3333 15.9998ZM10.8759 12.9978C11.963 13.0191 12.807 13.0357 12.807 11.8922C12.807 10.5886 11.7501 9.53174 10.4465 9.53174C9.14283 9.53174 8.08601 10.5886 8.08601 11.8922C8.08601 13.0347 8.8668 13.0191 9.93729 12.9978C10.0883 12.9948 10.2451 12.9917 10.4063 12.9917C10.5665 12.9917 10.7235 12.9948 10.8758 12.9978L10.8759 12.9978ZM23.9139 11.8922C23.9139 13.0377 23.091 13.0221 22.0069 13.0014L22.0068 13.0014C21.8572 12.9986 21.7026 12.9956 21.5445 12.9956C21.3861 12.9956 21.2316 12.9986 21.0822 13.0014C20.0017 13.0221 19.1929 13.0375 19.1929 11.8922C19.1929 10.5886 20.2497 9.53174 21.5534 9.53174C22.857 9.53174 23.9139 10.5886 23.9139 11.8922ZM9.39675 17.892C9.97777 17.892 10.6049 17.1157 10.6049 16.2719C10.6049 15.6593 10.2732 15.2421 9.95229 14.8386C9.71493 14.5401 9.48352 14.2491 9.39675 13.892C9.30434 14.253 9.058 14.5548 8.80695 14.8624C8.47329 15.2712 8.1313 15.6903 8.1313 16.2719C8.1313 17.1545 8.81572 17.892 9.39675 17.892Z" /><path class="selected" fill-rule="evenodd" clip-rule="evenodd" d="M15.9998 18.1001C13.9144 18.1001 12.2682 19.741 12.2682 21.7112C12.2682 22.2634 11.8205 22.7112 11.2682 22.7112C10.7159 22.7112 10.2682 22.2634 10.2682 21.7112C10.2682 18.5881 12.8588 16.1001 15.9998 16.1001C19.1408 16.1001 21.7314 18.5881 21.7314 21.7112C21.7314 22.2634 21.2837 22.7112 20.7314 22.7112C20.1791 22.7112 19.7314 22.2634 19.7314 21.7112C19.7314 19.741 18.0852 18.1001 15.9998 18.1001Z" /></g></svg>',this._csatSvg3='<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><g><circle cx="16" cy="16" r="12" /><path fill-rule="evenodd" clip-rule="evenodd" d="M27.3333 15.9998C27.3333 22.2591 22.2591 27.3332 15.9999 27.3332C9.74069 27.3332 4.66659 22.2591 4.66659 15.9998C4.66659 9.74061 9.74069 4.6665 15.9999 4.6665C22.2591 4.6665 27.3333 9.74061 27.3333 15.9998ZM29.3333 15.9998C29.3333 23.3636 23.3637 29.3332 15.9999 29.3332C8.63612 29.3332 2.66659 23.3636 2.66659 15.9998C2.66659 8.63604 8.63612 2.6665 15.9999 2.6665C23.3637 2.6665 29.3333 8.63604 29.3333 15.9998ZM8.80673 14.947C9.67876 14.947 10.3857 14.2401 10.3857 13.3681C10.3857 12.4961 9.67876 11.7891 8.80673 11.7891C7.9347 11.7891 7.22779 12.4961 7.22779 13.3681C7.22779 14.2401 7.9347 14.947 8.80673 14.947ZM23.9716 13.3681C23.9716 14.2401 23.2647 14.947 22.3927 14.947C21.5206 14.947 20.8137 14.2401 20.8137 13.3681C20.8137 12.4961 21.5206 11.7891 22.3927 11.7891C23.2647 11.7891 23.9716 12.4961 23.9716 13.3681ZM9.68257 18.1679C9.15885 18.3433 8.87642 18.91 9.05174 19.4337C9.22706 19.9574 9.79374 20.2398 10.3175 20.0645C13.2852 19.071 16.4964 20.6715 17.4899 23.6392C17.6652 24.1629 18.2319 24.4454 18.7556 24.2701C19.2793 24.0947 19.5618 23.528 19.3864 23.0043C18.0423 18.9892 13.6978 16.8238 9.68257 18.1679Z" /><rect x="8" y="11" width="3" height="4" rx="1.5" /><rect x="21" y="11" width="3" height="4" rx="1.5" /><path class="selected" fill-rule="evenodd" clip-rule="evenodd" d="M27.3335 16.0003C27.3335 22.2596 22.2594 27.3337 16.0002 27.3337C9.74095 27.3337 4.66684 22.2596 4.66684 16.0003C4.66684 9.7411 9.74095 4.66699 16.0002 4.66699C22.2594 4.66699 27.3335 9.7411 27.3335 16.0003ZM29.3335 16.0003C29.3335 23.3641 23.364 29.3337 16.0002 29.3337C8.63638 29.3337 2.66684 23.3641 2.66684 16.0003C2.66684 8.63653 8.63638 2.66699 16.0002 2.66699C23.364 2.66699 29.3335 8.63653 29.3335 16.0003ZM10.6138 20.6969C10.2279 21.0919 10.2353 21.725 10.6304 22.111C11.0254 22.4969 11.6586 22.4895 12.0445 22.0944C14.2314 19.8557 17.8191 19.8138 20.0578 22.0007C20.4529 22.3866 21.086 22.3792 21.4719 21.9842C21.8579 21.5891 21.8505 20.956 21.4554 20.57C18.4266 17.6112 13.5726 17.668 10.6138 20.6969Z" /></g></svg>',this._csatSvg4='<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><g><circle cx="16" cy="16" r="12" /><path fill-rule="evenodd" clip-rule="evenodd" d="M27.3333 15.9998C27.3333 22.2591 22.2591 27.3332 15.9999 27.3332C9.74069 27.3332 4.66659 22.2591 4.66659 15.9998C4.66659 9.74061 9.74069 4.6665 15.9999 4.6665C22.2591 4.6665 27.3333 9.74061 27.3333 15.9998ZM29.3333 15.9998C29.3333 23.3636 23.3637 29.3332 15.9999 29.3332C8.63612 29.3332 2.66659 23.3636 2.66659 15.9998C2.66659 8.63604 8.63612 2.6665 15.9999 2.6665C23.3637 2.6665 29.3333 8.63604 29.3333 15.9998ZM8.80543 14.947C9.67746 14.947 10.3844 14.2401 10.3844 13.3681C10.3844 12.4961 9.67746 11.7891 8.80543 11.7891C7.9334 11.7891 7.22648 12.4961 7.22648 13.3681C7.22648 14.2401 7.9334 14.947 8.80543 14.947ZM24.7138 13.3681C24.7138 14.2401 24.0069 14.947 23.1349 14.947C22.2628 14.947 21.5559 14.2401 21.5559 13.3681C21.5559 12.4961 22.2628 11.7891 23.1349 11.7891C24.0069 11.7891 24.7138 12.4961 24.7138 13.3681ZM10.3333 18.3004C10.3333 17.7481 9.88554 17.3004 9.33325 17.3004C8.78097 17.3004 8.33325 17.7481 8.33325 18.3004C8.33325 21.964 11.8989 24.9999 15.9997 24.9999C20.0841 24.9999 23.6666 22.1141 23.6666 18.3004C23.6666 17.7481 23.2189 17.3004 22.6666 17.3004C22.1143 17.3004 21.6666 17.7481 21.6666 18.3004C21.6666 20.7321 19.2791 22.9999 15.9997 22.9999C12.7367 22.9999 10.3333 20.6103 10.3333 18.3004Z" /><path class="selected" fill-rule="evenodd" clip-rule="evenodd" d="M16 27.3332C22.2592 27.3332 27.3333 22.2591 27.3333 15.9998C27.3333 9.74061 22.2592 4.6665 16 4.6665C9.74073 4.6665 4.66663 9.74061 4.66663 15.9998C4.66663 22.2591 9.74073 27.3332 16 27.3332ZM16 29.3332C23.3638 29.3332 29.3333 23.3636 29.3333 15.9998C29.3333 8.63604 23.3638 2.6665 16 2.6665C8.63616 2.6665 2.66663 8.63604 2.66663 15.9998C2.66663 23.3636 8.63616 29.3332 16 29.3332Z" /><path class="selected" fill-rule="evenodd" clip-rule="evenodd" d="M8.85907 12.0316C9.40157 11.9281 9.92525 12.284 10.0287 12.8265C10.0564 12.9717 10.1601 13.2453 10.36 13.4648C10.5351 13.657 10.7831 13.8128 11.1886 13.8128C11.6213 13.8128 11.8878 13.6556 12.0674 13.4771C12.2707 13.275 12.3724 13.0311 12.3987 12.9173C12.5228 12.3792 13.0597 12.0436 13.5979 12.1678C14.136 12.2919 14.4716 12.8288 14.3475 13.367C14.1594 14.1821 13.2681 15.8128 11.1886 15.8128C10.1549 15.8128 9.38905 15.3689 8.88141 14.8116C8.39868 14.2815 8.15085 13.6557 8.06416 13.2012C7.96067 12.6587 8.31657 12.1351 8.85907 12.0316ZM12.208 20.6653C12.3343 20.4455 12.4065 20.1907 12.4065 19.919C12.4065 19.0906 11.735 18.419 10.9065 18.419C10.0781 18.419 9.40654 19.0906 9.40654 19.919C9.40654 20.4976 9.73413 20.9997 10.214 21.2499C10.4717 21.6957 10.9962 22.5035 11.8088 23.2468C12.7482 24.1059 14.1201 24.9189 15.9264 24.9189C19.2768 24.9189 21.0063 22.2738 21.5491 21.3694C22.1914 21.1996 22.6649 20.6146 22.6649 19.919C22.6649 19.0906 21.9933 18.419 21.1649 18.419C20.3364 18.419 19.6649 19.0906 19.6649 19.919C19.6649 20.1076 19.6997 20.288 19.7632 20.4542C19.2179 21.3265 18.0297 22.9189 15.9264 22.9189C14.7641 22.9189 13.8519 22.405 13.1586 21.771C12.7483 21.3957 12.4315 20.9926 12.208 20.6653ZM21.9715 12.8265C22.075 12.284 22.5986 11.9281 23.1411 12.0316C23.6836 12.1351 24.0395 12.6587 23.936 13.2012C23.8493 13.6557 23.6015 14.2815 23.1188 14.8116C22.6112 15.3689 21.8453 15.8128 20.8116 15.8128C18.7321 15.8128 17.8408 14.1821 17.6527 13.367C17.5286 12.8288 17.8642 12.2919 18.4023 12.1678C18.9405 12.0436 19.4774 12.3792 19.6015 12.9173C19.6278 13.0311 19.7295 13.275 19.9328 13.4771C20.1124 13.6556 20.3789 13.8128 20.8116 13.8128C21.2171 13.8128 21.4651 13.657 21.6402 13.4648C21.8401 13.2453 21.9438 12.9717 21.9715 12.8265Z" /></g></svg>',this._csatSvg5='<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><g><circle cx="15.8549" cy="16" r="12" /><path fill-rule="evenodd" clip-rule="evenodd" d="M27.3333 15.9998C27.3333 22.2591 22.2591 27.3332 15.9999 27.3332C9.74069 27.3332 4.66659 22.2591 4.66659 15.9998C4.66659 9.74061 9.74069 4.6665 15.9999 4.6665C22.2591 4.6665 27.3333 9.74061 27.3333 15.9998ZM29.3333 15.9998C29.3333 23.3636 23.3637 29.3332 15.9999 29.3332C8.63612 29.3332 2.66659 23.3636 2.66659 15.9998C2.66659 8.63604 8.63612 2.6665 15.9999 2.6665C23.3637 2.6665 29.3333 8.63604 29.3333 15.9998ZM20.3898 19.9999C19.6355 21.1609 18.2361 21.9998 16.4999 21.9998C14.7637 21.9998 13.3643 21.1609 12.61 19.9999L16.3447 19.9998L20.3898 19.9999ZM10.3445 19.9327C10.3528 19.9552 10.3612 19.9776 10.3698 20C11.2621 22.3303 13.6698 23.9998 16.4999 23.9998C19.3301 23.9998 21.7377 22.3303 22.63 20C22.8687 19.3768 22.999 18.7063 22.9999 18.0079L22.9999 18.0001C22.5856 17.9998 10.0005 17.9997 9.99992 18.0001C9.99992 18.6762 10.1211 19.3263 10.3445 19.9327ZM11.0107 13.3681C11.0107 14.2401 10.3038 14.947 9.43173 14.947C8.5597 14.947 7.85278 14.2401 7.85278 13.3681C7.85278 12.4961 8.5597 11.7891 9.43173 11.7891C10.3038 11.7891 11.0107 12.4961 11.0107 13.3681ZM22.7651 14.947C23.6371 14.947 24.344 14.2401 24.344 13.3681C24.344 12.4961 23.6371 11.7891 22.7651 11.7891C21.893 11.7891 21.1861 12.4961 21.1861 13.3681C21.1861 14.2401 21.893 14.947 22.7651 14.947Z" /><path class="selected" fill-rule="evenodd" clip-rule="evenodd" d="M15.8563 27.3332C22.1155 27.3332 27.1896 22.2591 27.1896 15.9998C27.1896 9.74061 22.1155 4.6665 15.8563 4.6665C9.59702 4.6665 4.52292 9.74061 4.52292 15.9998C4.52292 22.2591 9.59702 27.3332 15.8563 27.3332ZM15.8563 29.3332C23.22 29.3332 29.1896 23.3636 29.1896 15.9998C29.1896 8.63604 23.22 2.6665 15.8563 2.6665C8.49246 2.6665 2.52292 8.63604 2.52292 15.9998C2.52292 23.3636 8.49246 29.3332 15.8563 29.3332Z" /><path class="selected" fill-rule="evenodd" clip-rule="evenodd" d="M8.13748 17.3828C8.68965 17.3713 9.12789 16.9143 9.11632 16.3621C9.11322 16.2143 9.15772 15.9251 9.30766 15.6688C9.43893 15.4444 9.64917 15.2405 10.0458 15.1562C10.469 15.0662 10.7624 15.1646 10.9751 15.3019C11.2161 15.4573 11.3662 15.6747 11.4156 15.7805C11.6489 16.2811 12.2439 16.4977 12.7444 16.2644C13.245 16.031 13.4616 15.4361 13.2283 14.9355C12.8749 14.1773 11.664 12.7675 9.62996 13.1999C8.61882 13.4148 7.962 14.0082 7.58134 14.659C7.21936 15.2778 7.10707 15.9414 7.11676 16.404C7.12832 16.9562 7.58532 17.3944 8.13748 17.3828Z" /><path class="selected" fill-rule="evenodd" clip-rule="evenodd" d="M22.1076 14.4132C21.5985 14.6272 21.0123 14.388 20.7983 13.8789C20.741 13.7426 20.5827 13.4965 20.3415 13.3233C20.1303 13.1717 19.8553 13.0709 19.4587 13.1552C19.0354 13.2452 18.8074 13.4544 18.6689 13.6663C18.512 13.9063 18.4633 14.166 18.4612 14.2827C18.4517 14.8349 17.9963 15.2748 17.4441 15.2652C16.8919 15.2557 16.452 14.8003 16.4615 14.2481C16.476 13.4117 17.0088 11.6313 19.0428 11.1989C20.054 10.984 20.8954 11.259 21.5078 11.6986C22.0902 12.1167 22.4627 12.6773 22.642 13.1038C22.856 13.613 22.6168 14.1992 22.1076 14.4132Z" /><circle cx="16.3155" cy="20.4454" r="1.5" transform="rotate(-12 18.3156 20.4454)" /><ellipse cx="16.7864" cy="22.6602" rx="1.5" ry="1.5" transform="rotate(-12 18.7864 22.6602)" /><path class="selected" d="M14.8836 20.8105L17.769 20.1972C17.769 20.1972 17.7025 20.883 17.7911 21.3029C17.8804 21.7259 18.2223 22.3301 18.2223 22.3301L15.3369 22.9434C15.3369 22.9434 15.4275 22.2485 15.3368 21.8246C15.2466 21.4038 14.8836 20.8105 14.8836 20.8105Z" /><path class="selected" d="M25.4564 26.6632C25.1034 26.9837 24.5599 26.9837 24.2069 26.6585L24.1558 26.6121C21.717 24.4056 20.1237 22.9609 20.1841 21.1586C20.212 20.3689 20.6161 19.6117 21.2711 19.1657C22.4974 18.3296 24.0118 18.7198 24.8293 19.6767C25.6469 18.7198 27.1612 18.325 28.3876 19.1657C29.0426 19.6117 29.4467 20.3689 29.4746 21.1586C29.5396 22.9609 27.9416 24.4056 25.5029 26.6214L25.4564 26.6632Z" /></g></svg>',this._questionTypeCsat='<div class="gb-voc_group gb-voc_csat" id="_NAME__container"><fieldset><legend id="_LEGEND_ID_">_TEXT_</legend>'+b._csatSvgDropShadow+'<input name="_NAME_" id="_NAME__1" _QDATA_ class="csat" type="radio" value="1" val="1"/><label for="_NAME__1">'+b._csatSvg1+'</label><input name="_NAME_" id="_NAME__2" _QDATA_ class="csat" type="radio" value="2" val="2"/><label for="_NAME__2">'+b._csatSvg2+'</label><input name="_NAME_" id="_NAME__3" _QDATA_ class="csat" type="radio" value="3" val="3"/><label for="_NAME__3">'+b._csatSvg3+'</label><input name="_NAME_" id="_NAME__4" _QDATA_ class="csat" type="radio" value="4" val="4"/><label for="_NAME__4">'+b._csatSvg4+'</label><input name="_NAME_" id="_NAME__5" _QDATA_ class="csat" type="radio" value="5" val="5"/><label for="_NAME__5">'+b._csatSvg5+'</label></fieldset><p class="missing">*required question</p></div>',this._questionTypeNps_0='<div class="gb-voc_group gb-voc_nps" id="_NAME__container"><fieldset><legend id="_LEGEND_ID_">',this._questionTypeNps_1='</legend><label class=""><input aria-hidden="true" type="radio" name="_NAME_" _QID_ class="nps" value="0" val="0" /><span>0</span></label><label class=""><input aria-hidden="true" type="radio" name="_NAME_" _QID_ class="nps" value="1" val="1" /><span>1</span></label><label><input aria-hidden="true" type="radio" name="_NAME_" _QID_ class="nps" value="2" val="2" /><span>2</span></label><label><input aria-hidden="true" type="radio" name="_NAME_" _QID_ class="nps" value="3" val="3" /><span>3</span></label><label><input aria-hidden="true" type="radio" name="_NAME_" _QID_ class="nps" value="4" val="4" /><span>4</span></label><label><input aria-hidden="true" type="radio" name="_NAME_" _QID_ class="nps" value="5" val="5" /><span>5</span></label><label class=""><input aria-hidden="true" type="radio" name="_NAME_" _QID_ class="nps" value="6" val="6" /><span>6</span></label><label><input aria-hidden="true" type="radio" name="_NAME_" _QID_ class="nps" value="7" val="7" /><span>7</span></label><label><input aria-hidden="true" type="radio" name="_NAME_" _QID_ class="nps" value="8" val="8" /><span>8</span></label><label><input aria-hidden="true" type="radio" name="_NAME_" _QID_ class="nps" value="9" val="9" /><span>9</span></label><label><input aria-hidden="true" type="radio" name="_NAME_" _QID_ class="nps" value="10" val="10" /><span>10</span></label></fieldset><label class="npsworst" id="_NPS_WORST_ID_">_WORST_</label><label class="npsbest" id="_NPS_BEST_ID_">_BEST_</label><p class="missing">*required question</p></div>',this._questionTypeText_0='<div class="gb-voc_group gb-voc_text" id="_NAME__container"><fieldset><legend id="_LEGEND_ID_">',this._questionTypeText_1='</legend><textarea name="_NAME_" _QID_ rows="7"></textarea></fieldset><p class="missing">*required question</p></div>',this._questionTypeMultiSelect_0='<div class="gb-voc_group gb-voc_multiselect" id="_NAME__container"><fieldset><legend id="_LEGEND_ID_">_TEXT_</legend>',this._questionTypeMultiSelect_1='<div class="multiselect-option-container"><div class="multiselect-option"><label for="_ID___INDEX_" class="multiselect-label"><input class="multiselect-checkbox" id="_ID___INDEX_" name="_NAME___INDEX_" _QDATA_ type="checkbox" value="_VALUE_" val="_VALUE_" /><span class="multiselect-custom-checkbox"></span><span class="multiselect-checkbox-text">_LABEL_TEXT_</span></label></div></div>',this._questionTypeMultiSelect_2='</fieldset><p class="missing">*required question</p></div>',this._errorDiv='<div class="gb-voc_group gb-voc_error hidden"><p>Sorry, something has gone wrong.</p><p>We are unable to process your feedback.</p><button id="btnErrorOk">OK</button></div>',this._defaultThankYouLogo="https://cdn.gbqofs.com/glassvox/staticimages/envelope.svg",this.initialise=function(e){b._config=e},this._setStyles=function(){try{var e=b._iframe.contentDocument.querySelector("#mainStyle"),t=b._docStyle+b._docStyleConfigurable+b._docStyleCsat+b._docStyleText+b._docStyleNps+b._docStyleMultiSelect+b._docStyleSmall,i="0 auto 12px",a="48",l="53";switch(b._config.styles.textAlign){case"left":i="0 36px 12px;",a="0",l="100";break;case"right":i="0 36px 12px auto;",a="95",l="5"}t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=b._config.header.useImage?(t=t.replace(/_HEADER_FONT_SIZE_/g,"inherit")).replace(/_HEADER_FONT_WEIGHT_/g,"inherit"):(t=t.replace(/_HEADER_FONT_SIZE_/g,"18px")).replace(/_HEADER_FONT_WEIGHT_/g,"600")).replace(/_FONT_FAMILY_/g,b._config.styles.fontFamily||"Open Sans")).replace(/_FONT_SIZE_LARGE_/g,b._fontSize+2)).replace(/_FONT_SIZE_/g,b._fontSize)).replace(/_BUTTON_BACKGROUND_COLOUR_/g,b._config.styles.buttonBackgroundColour)).replace(/_BUTTON_TEXT_COLOUR_/g,b._config.styles.buttonTextColour)).replace(/_BACKGROUND_COLOUR_/g,b._backgroundColour)).replace(/_TEXT_COLOUR_/g,b._config.styles.textColour)).replace(/_TEXT_ALIGN_/g,b._config.styles.textAlign)).replace(/_HEADER_IMG_MARGIN_/g,i)).replace(/_NPS_WORST_LEFT_/g,a)).replace(/_NPS_BEST_RIGHT_/g,l),e.innerText=t}catch(e){b._eventBus&&b._eventBus.emit("glassvoxError","GlassVoxSurvey._setStyles",e)}},this._collectPageResults=function(){try{for(var e,t=!1,i=[],a=0,l=0,n=0,s=0,o=b._config.pages[b._currentPage],r=0;r<o.questions.length;r++){var c,p=o.questions[r],d="qn_"+b._currentPage+"_"+r,u=b._iframe.contentDocument.querySelector("form")[d],h=b._iframe.contentDocument.querySelector("#"+d+"_container");if(p.answer=null,u)if(u.length)for(var v=0;v<u.length&&null===p.answer;)u[v].checked&&(p.answer=u[v].getAttribute("val")),v++;else p.answer=""===u.value?null:u.value;else"multi"===p.type&&(h?(c=h.querySelectorAll("input:checked"),p.answer=c.length&&0<c.length?c.length:null):p.answer=0);switch(p.required&&null===p.answer?(h&&h.classList.add("missing"),t=!0):h&&h.classList.remove("missing"),p.type){case"csat":null!==p.answer&&(a++,isNaN(parseInt(p.answer))||(l+=parseInt(p.answer)));break;case"nps":null!==p.answer&&(n++,isNaN(parseInt(p.answer))||(s+=parseInt(p.answer)));break;case"text":i.push(null===p.answer?"":p.answer)}}return b._forPreview||t||(e={source:"glassvox",type:"Feedback:Success",userData:{campaignId:b._config.surveyId,comment:i.join("<|>"),nps:0<n?Math.round(s/n):void 0,csat:0<a?Math.round(l/a):void 0}},b._eventBus&&b._eventBus.emit("glassvoxPageCompleted",e)),!t}catch(e){b._eventBus&&b._eventBus.emit("glassvoxError","GlassVoxSurvey._collectPageResults",e)}},this._getTimeTo=function(e){return b._previousOpenDuration+((e||(new Date).getTime())-b._openedTime)},this._noteLastInteraction=function(e){e&&e.target&&(e.target.lastKeystroke=(new Date).getTime())},this._sendResponse=function(e){try{if(e&&e.target){var t=e.target,i=parseInt(t.getAttribute("data-page")),a=parseInt(t.getAttribute("data-question")),l=b._config.pages[i].questions[a],n="qn_"+b._currentPage+"_"+a,s=b._iframe.contentDocument.querySelector("#"+n+"_container"),o=(new Date).getTime();if("multi"===l.type){var r=s.querySelectorAll("input:checked"),c=[];if(r.length)for(var p=0;p<r.length;p++)c.push(r[p].value);l.answer=c}else"text"===l.type&&t.lastKeystroke&&(o=parseInt(t.lastKeystroke)),"text"===l.type?l.answer=""===t.value?null:t.value:l.answer=t.getAttribute("val");var d={surveyId:b._config.surveyId,versionId:b._config.versionId,pageId:b._config.pages[i].id,questionId:l.id,questionType:l.type,response:l.answer,ms:b._getTimeTo(o),timestamp:(new Date).getTime()};l.required&&null===l.answer?s&&s.classList.add("missing"):(s&&s.classList.remove("missing"),b._eventBus&&!b._forPreview&&b._eventBus.emit("glassvoxResponse",d))}}catch(e){b._eventBus&&b._eventBus.emit("glassvoxError","GlassVoxSurvey._sendResponse",e)}},this._reset=function(){try{for(var e=0;e<b._config.pages.length;e++)for(var t=0;t<b._config.pages[e].questions.length;t++)delete b._config.pages[e].questions[t].answer;b._currentPage=0,b._isThankYouPage=!1,b._isErrorPage=!1,b._setCurrentPageContent(),b._interacted=!1,b._openedTime=0,b._previousOpenDuration=0}catch(e){b._eventBus&&b._eventBus.emit("glassvoxError","GlassVoxSurvey._reset",e)}},this._nextPage=function(){try{b._collectPageResults()&&b._currentPage<b._config.pages.length-1&&(b._currentPage++,b._setCurrentPageContent())}catch(e){b._eventBus&&b._eventBus.emit("glassvoxError","GlassVoxSurvey._nextPage",e)}},this._previousPage=function(){try{b._collectPageResults()&&(0<b._currentPage&&b._currentPage--,b._setCurrentPageContent())}catch(e){b._eventBus&&b._eventBus.emit("glassvoxError","GlassVoxSurvey._previousPage",e)}},this._handleConfirmOrThanks=function(){b._config.privacy&&b._config.privacy.anonymiseFeedbackPrompt?b._showConfirmPage():b._showThankYouPage()},this._showConfirmPage=function(){try{var e,t,i;b._collectPageResults()&&(b._collectedPageResultsFromPrivacyPage=!0,e=[],t=b._config.privacy&&b._config.privacy.privacyPolicy&&0<b._config.privacy.privacyPolicy.length,e.push('<div class="survey-container">'),e.push('<span id="closex">'+b._getExternalSvg("close")+"</span>"),e.push('<header class="privacy">'),e.push(b._getExternalSvg("happyface")),e.push('<p id="gb_feedback_privacy">By submitting the form, you allow your responses to be analyzed together with other data collected about your experience on our site. This allows us to better understand any issues you\'ve faced and to improve your future visits.</p>'),e.push("</header>"),e.push('<div class="gb-voc_group gb-voc_submit">'),e.push('<a id="btnPrivacyPolicy" href="'+(t?b._config.privacy.privacyPolicy:"https://www.glassbox.com/privacy-policy")+'" target="_blank">Learn more</a>'),e.push('<button id="btnPrivacyConfirm">Confirm</button>'),e.push("</div>"),e.push("</div>"),(i=b._iframe.contentDocument).body.innerHTML=e.join(""),b._setEventHandler(i.querySelector("#btnPrivacyConfirm"),"click",b._showThankYouPage),b._setEventHandler(i.querySelector("#closex"),"click",b.hideSurvey))}catch(e){b._eventBus&&b._eventBus.emit("glassvoxError","GlassVoxSurvey._showConfirmPage",e)}},this._showThankYouPage=function(){try{var e,t,i;(b._collectedPageResultsFromPrivacyPage||b._collectPageResults())&&(b._eventBus&&!b._forPreview&&b._eventBus.emit("glassvoxComplete",{surveyId:b._config.surveyId,duration:b._getTimeTo()}),b._isThankYouPage=!0,b._config.thankyou?(e=[],t=b._getLogo(!0),e.push('<div class="survey-container">'),e.push('<span id="closex">'+b._getExternalSvg("close")+"</span>"),e.push('<header class="thankyou'+(t.length?"":" bold")+'">'),e.push(t),b._config.thankyou.text&&e.push('<p id="gb_feedback_thankyou">'+b._config.thankyou.text.replace(/\n/g,"</p><p>")+"</p>"),e.push("</header>"),b._config.styles.whiteLabel&&(e.push('<footer>Powered By <a aria-label="go to www.glassbox.com" href="https://www.glassbox.com/" target=_blank>'),e.push(b._getExternalSvg("glassbox")),e.push("</a></footer>")),e.push("</div>"),(i=b._iframe.contentDocument).body.innerHTML=e.join(""),b._setEventHandler(i.querySelector("#closex"),"click",b.hideSurvey)):b.hideSurvey())}catch(e){b._eventBus&&b._eventBus.emit("glassvoxError","GlassVoxSurvey._showThankYouPage",e)}},this._setEventHandler=function(e,t,i){try{e&&e.addEventListener&&e.addEventListener(t,i)}catch(e){b._eventBus&&b._eventBus.emit("glassvoxError","GlassVoxSurvey._setEventHandler",e)}},this._getLogo=function(e){var t,i="";try{e?b._config.thankyou&&"default"===(t=b._config.thankyou.image)&&(t=b._defaultThankYouLogo):t=b._config.header.useImage?b._config.header.image:"",t&&0<t.length&&(i=0===t.indexOf("<svg")?t:'<img alt="logo" src="'+t+'" />')}catch(e){b._eventBus&&b._eventBus.emit("glassvoxError","GlassVoxSurvey._getLogo",e)}return i},this._csatNpsSetClasses=function(e){try{if(e&&e.target&&e.target.parentNode.parentNode)for(var t=e.target.getAttribute("name"),i=e.target.parentNode.parentNode,a=i.querySelectorAll('input[name="'+t+'"]'),l=!!i.querySelectorAll('input[name="'+t+'"]:checked').length,n=0;n<a.length;n++)a[n].checked||!l?a[n].classList.remove("unchecked"):l&&a[n].classList.add("unchecked")}catch(e){b._eventBus&&b._eventBus.emit("glassvoxError","GlassVoxSurvey._csatNpsSetClasses",e)}},this._setCurrentPageContent=function(){try{var e=b._currentPage===b._config.pages.length-1,t=0<b._currentPage&&0<(b._config.pages[b._currentPage].backButtonLabel||"").length,i=[];if(i.push('<div class="survey-container">'),i.push('<span id="closex">'+b._getExternalSvg("close")+"</span>"),i.push("<header>"),i.push(b._getLogo()),b._config.header.text&&i.push('<p id="gb_feedback_header">'+b._config.header.text+"</p>"),i.push("</header>"),0<b._config.pages[b._currentPage].questions.length){i.push('<form id="gb_feedback_form" action="">');for(var a=0;a<b._config.pages[b._currentPage].questions.length;a++){var l=b._config.pages[b._currentPage].questions[a],n="qn_"+b._currentPage+"_"+a,s='aria-hidden="true" data-page="'+b._currentPage+'" data-question="'+a+'" data-type="'+l.type+'"';switch(l.type){case"csat":i.push(b._questionTypeCsat.replace(/_LEGEND_ID_/,"gb_feedback_legend_"+n).replace(/_NAME_/g,n).replace('val="'+l.answer+'"','val="'+l.answer+'" checked').replace(/_QDATA_/g,s).replace(/_TEXT_/,l.text));break;case"nps":var o="",r="";if(l.options)for(var c=0;(!o||!r)&&c<l.options.length;)0===l.options[c].value&&(o=l.options[c].text||""),10===l.options[c].value&&(r=l.options[c].text||""),c++;i.push(b._questionTypeNps_0.replace(/_LEGEND_ID_/,"gb_feedback_legend_"+n).replace(/_NAME_/g,n)),i.push(l.text),i.push(b._questionTypeNps_1.replace(/_NAME_/g,n).replace('val="'+l.answer+'"','val="'+l.answer+'" checked').replace("_NPS_WORST_ID_",n+"_npsWorst").replace("_WORST_",o).replace("_NPS_BEST_ID_",n+"_npsBest").replace("_BEST_",r).replace(/_QID_/g,s));break;case"multi":if(l.options){var p=b._sortSelectQuestionsByOrder(l.options);i.push(b._questionTypeMultiSelect_0.replace(/_LEGEND_ID_/,"gb_feedback_legend_"+n).replace(/_NAME_/g,n).replace(/_TEXT_/,l.text));for(var d=0;d<p.length;d++)i.push(b._questionTypeMultiSelect_1.replace(/_ID_/g,n).replace(/_INDEX_/g,d).replace(/_NAME_/g,n).replace(/_QDATA_/,s).replace(/_VALUE_/g,p[d].id).replace(/_LABEL_TEXT_/g,p[d].text));i.push(b._questionTypeMultiSelect_2)}break;default:i.push(b._questionTypeText_0.replace(/_LEGEND_ID_/,"gb_feedback_legend_"+n).replace(/_NAME_/g,n)),i.push(l.text),i.push(b._questionTypeText_1.replace(/_NAME_/g,n).replace(/_QID_/g,s).replace("></textarea>",">"+(l.answer||"")+"</textarea>"))}}i.push("</form>")}!t&&e||(i.push('<div class="gb-voc_group gb-voc_paging">'),t&&i.push('<button id="btnBack">'+b._config.pages[b._currentPage].backButtonLabel.replace(/\s/g,"&nbsp;")+"</button>"),e||(t&&i.push(" "),i.push('<button id="btnForward">'+b._config.pages[b._currentPage].forwardButtonLabel.replace(/\s/g,"&nbsp;")+"</button>")),i.push("</div>")),e&&(i.push('<div class="gb-voc_group gb-voc_submit">'),i.push('<button id="'+b._iframeId+'_btnSubmit">'+b._config.pages[b._currentPage].forwardButtonLabel.replace(/\s/g,"&nbsp;")+"</button>"),i.push("</div>")),i.push(b._errorDiv),b._config.styles.whiteLabel&&(i.push('<footer>Powered By <a aria-label="go to www.glassbox.com" href="https://www.glassbox.com/" target=_blank>'),i.push(b._getExternalSvg("glassbox")),i.push("</a></footer>")),i.push("</div>");for(var u=b._iframe.contentDocument,h=(u.body.innerHTML=i.join(""),t&&b._setEventHandler(u.querySelector("#btnBack"),"click",b._previousPage),e?b._setEventHandler(u.querySelector("#"+b._iframeId+"_btnSubmit"),"click",b._handleConfirmOrThanks):b._setEventHandler(u.querySelector("#btnForward"),"click",b._nextPage),b._setEventHandler(u.querySelector("#closex"),"click",b.hideSurvey),b._setEventHandler(u.querySelector("#btnErrorOk"),"click",b.hideSurvey),u.querySelectorAll("input.csat,input.nps")),v=0;v<h.length;v++)b._setEventHandler(h[v],"change",b._csatNpsSetClasses);for(var g=u.getElementsByTagName("input"),v=0;v<g.length;v++)b._setEventHandler(g[v],"change",b._sendResponse);for(var f=u.getElementsByTagName("textarea"),v=0;v<f.length;v++)b._setEventHandler(f[v],"blur",b._sendResponse),b._setEventHandler(f[v],"keyup",b._noteLastInteraction)}catch(e){b._eventBus&&b._eventBus.emit("glassvoxError","GlassVoxSurvey._setCurrentPageContent",e)}},this._sortSelectQuestionsByOrder=function(e){return e.sort(function(e,t){return e.order>t.order?1:e.order<t.order?-1:void 0})},this._setIframeContent=function(){try{var e=b._iframe.contentDocument,t=document.implementation.createDocumentType("html","",""),i=(e.doctype?e.replaceChild(t,document.doctype):e.insertBefore(t,e.childNodes[0]),[]);i.push('<meta charset="UTF-8">'),i.push('<meta http-equiv="X-UA-Compatible" content="IE=edge">'),i.push('<meta name="viewport" content="width=device-width, initial-scale=1.0">'),i.push('<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" />'),i.push('<style id="mainStyle"></style>'),i.push("<title>"+b._iframeTitle+"</title>"),e.head.innerHTML=i.join(""),b._setCurrentPageContent()}catch(e){b._eventBus&&b._eventBus.emit("glassvoxError","GlassVoxSurvey._setIframeContent",e)}},this._updateVisibleStatus=function(e){try{b.visible=!!e,b.visible?b._openedTime=(new Date).getTime():b._openedTime&&(b._previousOpenDuration+=(new Date).getTime()-b._openedTime),b._forPreview||e||b._isThankYouPage||b._eventBus&&b._eventBus.emit("glassvoxClose",b._config.surveyId)}catch(e){b._eventBus&&b._eventBus.emit("glassvoxError","GlassVoxSurvey._updateVisibleStatus",e)}},this._addIframeToDocument=function(){try{var e,t;document.body&&(document.body.appendChild(b._iframe),b._updateVisibleStatus(!0),b._eventBus)&&!b._forPreview&&(e=!(!b._config.privacy||!b._config.privacy.anonymiseFeedbackPrompt)&&b._config.privacy.anonymiseFeedbackPrompt,t=b.triggeredBy||null,b._eventBus.emit("glassvoxOpen",{surveyId:b._config.surveyId,versionId:b._config.versionId,anonymiseFeedbackPrompt:e,eventTrigger:t}))}catch(e){b._eventBus&&b._eventBus.emit("glassvoxError","GlassVoxSurvey._addIframeToDocument",e)}},this.checkStruggleTrigger=function(e){e&&e.dataToEncode&&!b.triggered&&(e=e.dataToEncode.type,b.enabledStruggles.includes(e))&&(b._struggleTriggeredCount++,b._struggleTriggeredCount>=b.struggleThreshold)&&(b.triggeredBy=e,b.triggered=!b._forPreview,b.showSurveyWithTimeout())},this.checkExitIntent=function(){var e;b.triggered||b.enabledStruggles.includes(e="exitIntent")&&(b.triggeredBy=e,b.showSurvey(),b.triggered=!b._forPreview)},this.showSurveyWithTimeout=function(){window.setTimeout(b.showSurvey,b._timeout)},this.showSurvey=function(){try{var e,t;b._iframe?(b._iframe.setAttribute("style",b._iframeStyle),b._updateVisibleStatus(!0),b._eventBus&&!b._forPreview&&(e=!(!b._config.privacy||!b._config.privacy.anonymiseFeedbackPrompt)&&b._config.privacy.anonymiseFeedbackPrompt,t=b.triggeredBy||null,b._eventBus.emit("glassvoxOpen",{surveyId:b._config.surveyId,versionId:b._config.versionId,anonymiseFeedbackPrompt:e,eventTrigger:t}))):(b._iframe=document.createElement("iframe"),b._iframe.setAttribute("style",b._iframeStyle),b._iframe.setAttribute("frameborder","0"),b._iframe.setAttribute("scrolling","no"),b._iframe.setAttribute("title",b._iframeTitle),b._iframe.setAttribute("id",b._iframeId),b._iframe.setAttribute("name",b._iframeId),b._iframe.setAttribute("src","about:blank"),b._iframe.onload=function(){b._setIframeContent(),b._setStyles()},document.body?b._addIframeToDocument():b._eventBus&&b._eventBus.once("init:loaded",b._addIframeToDocument))}catch(e){b._eventBus&&b._eventBus.emit("glassvoxError","GlassVoxSurvey.showSurvey",e)}},this._handleError=function(){try{if(b._iframe&&b._iframe.contentDocument){b._isErrorPage=!0;for(var e=b._iframe.contentDocument.querySelectorAll(".gb-voc_group"),t=0;t<e.length;t++)e[t].classList.add("hidden");var i=b._iframe.contentDocument.querySelector(".gb-voc_error");i&&i.classList.remove("hidden")}}catch(e){}},this.hideSurvey=function(){try{b.visible&&b._updateVisibleStatus(!1),b._iframe&&b._iframe.setAttribute("style",b._iframeStyle+"display:none;"),(b._isThankYouPage||b._isErrorPage)&&b._reset()}catch(e){b._eventBus&&b._eventBus.emit("glassvoxError","GlassVoxSurvey.hideSurvey",e)}},this.destroy=function(){try{b._iframe&&b._iframe.parentElement&&(b._iframe.parentElement.removeChild(b._iframe),delete b._iframe)}catch(e){b._eventBus&&b._eventBus.emit("glassvoxError","GlassVoxSurvey.destroy",e)}},b._eventBus&&b._eventBus.on("glassvoxError",b._handleError)}function GlassVoxInstance(e,t,i,a,l,n,s){var o=this;this._detector=s,this._config=e||{},this._buttons=[],this._triggers=[],this._eventBus=a,this._storageAccessor=i,this._nextButtonIdFn=l,this._forPreview=!!t,this.triggered=!1,this._utils=n,this._isMobile=!1,this._buttonClick=function(){try{o._survey?o._survey.visible?o._survey.hideSurvey():o._survey.showSurvey():(o._survey=new GlassVoxSurvey(o._config,o._eventBus,o._forPreview),o._survey.showSurvey())}catch(e){o._eventBus&&o._eventBus.emit("glassvoxError","GlassVoxInstance._buttonClick",e)}},this.initialise=function(e,t){try{o._config=e,o._isMobile=o._utils.isMobile(),o._survey&&(o._survey.destroy(),delete o._survey);for(var i=0;i<o._buttons.length;i++)o._buttons[i].destroy();o._buttons=[];for(var a,i=0;i<o._config.triggers.length;i++)o._triggers.length>i?o._triggers[i].initialise(o._config.triggers[i]):o._triggers.push(new GlassVoxTrigger(o._config.surveyId,o._storageAccessor,o._config.triggers[i],o._eventBus)),(o._forPreview||o._triggers[i].isTriggered())&&(o._triggers[i].isButton?(a=o._isMobile?o._config.triggers[i].buttonFormat.mobile:o._config.triggers[i].buttonFormat.desktop,o._buttons.push(new GlassVoxButton(o._nextButtonIdFn(),a,o._eventBus,o._buttonClick))):t||o._survey||(o._survey=new GlassVoxSurvey(o._config,o._eventBus,o._forPreview,o._triggers[i].timeout),o._triggers[i].enabledStruggles&&0<o._triggers[i].enabledStruggles.length?o.handlePageEventTriggers(o._triggers[i]):(o._survey.showSurveyWithTimeout(),o.triggered=!o._forPreview)));for(i=0;i<o._buttons.length;i++)o._buttons[i].showButton();for(;o._triggers.length>o._config.triggers.length;)o._triggers[o._triggers.length-1].destroy(),o._triggers.splice(o._triggers.length-1,1)}catch(e){o._eventBus&&o._eventBus.emit("glassvoxError","GlassVoxInstance.initialise",e)}},this.handlePageEventTriggers=function(e){-1<e.enabledStruggles.indexOf("exitIntent")&&(o.activateExitIntentEvent(),o.addExitIntentEventListener()),o.addStruggleEventListener(),o._survey.enabledStruggles=o._survey.enabledStruggles.concat(e.enabledStruggles),o._survey.struggleThreshold=e.threshold},this.activateExitIntentEvent=function(){o._detector&&o._detector.initExitIntent()},this.addExitIntentEventListener=function(){o._eventBus.on("exitIntent",function(){o._survey.checkExitIntent()})},this.addStruggleEventListener=function(){o._eventBus.on("reportStruggle",function(e){o._survey.checkStruggleTrigger(e)})},this.destroy=function(){try{for(;o._buttons.length;)o._buttons[o._buttons.length-1].destroy(),o._buttons.splice(o._buttons.length-1,1);for(;o._triggers.length;)o._triggers[o._triggers.length-1].destroy(),o._triggers.splice(o._triggers.length-1,1);o._survey&&(o._survey.destroy(),delete o._survey)}catch(e){o._eventBus&&o._eventBus.emit("glassvoxError","GlassVoxInstance.destroy",e)}}}function GlassVoxPlugin(e,t,i,a,l){var r=this;this.version="6.6.100B222",this._detector=e,this._storageAccessor=t,this._utils=i,this._config=a||[],this._forPreview=!!l,this._nextButtonId=1,this._eventBus=void 0,this._sessionChanged=!1,this._instances=[],this._requiredConfig={surveyId:{type:"string",length:36},versionId:{type:"string",length:36},jsonVersion:{type:"number",maxValue:1},pages:{type:"array",minCount:1,mustContain:{questions:{type:"array",minCount:1}}}},this._defaultConfig={surveyId:"",versionId:"",pages:[],header:{image:"",useImage:!1,text:""},privacy:{anonymiseFeedbackPrompt:!1,privacyPolicy:""},styles:{textAlign:"",textColour:"",buttonBackgroundColour:"",buttonTextColour:"",whiteLabel:!1},jsonVersion:0,thankyou:{text:"",image:""},triggers:[]},this.nextButtonId=function(){return r._nextButtonId++},this._sendResults=function(e){try{var t;r._sessionChanged||((t=r._detector.createEventObject("glassvoxResponse",r._utils.currentTimestamp(),null)).value=e,t.shouldEncodeValue=!0,r._detector.saveEvent(t))}catch(e){r._eventBus&&r._eventBus.emit("glassvoxError","GlassVoxPlugin._sendResults",e)}},this._sendOpenedEvent=function(e){try{var t;r._sessionChanged||((t=r._detector.createEventObject("glassvoxOpen",r._utils.currentTimestamp(),null)).value=e,r._detector.saveEvent(t))}catch(e){r._eventBus&&r._eventBus.emit("glassvoxError","GlassVoxPlugin._sendOpenedEvent",e)}},this._sendClosedEvent=function(e){try{r._sessionChanged||((t=r._detector.createEventObject("glassvoxClose",r._utils.currentTimestamp(),null)).value=e,r._detector.saveEvent(t));var t,i=r._storageAccessor.get("glassvox:"+e);i?(i=JSON.parse(i)).closed=!0:i={closed:!0},r._storageAccessor.set("glassvox:"+e,JSON.stringify(i))}catch(e){r._eventBus&&r._eventBus.emit("glassvoxError","GlassVoxPlugin._sendClosedEvent",e)}},this._sendCompletedEvent=function(e){try{r._sessionChanged||((t=r._detector.createEventObject("glassvoxComplete",r._utils.currentTimestamp(),null)).value=e,r._detector.saveEvent(t));var t,i=r._storageAccessor.get("glassvox:"+e.surveyId);i?(i=JSON.parse(i)).completed=!0:i={completed:!0},r._storageAccessor.set("glassvox:"+e.surveyId,JSON.stringify(i))}catch(e){r._eventBus&&r._eventBus.emit("glassvoxError","GlassVoxPlugin._sendCompletedEvent",e)}},this._onNewSession=function(){r._sessionChanged=!0},this._handleError=function(e,t,i){try{this._forPreview?r._detector.consoleWarning(e+":"+t):r._detector.saveClsDebugErrorEvent(e,t,i)}catch(e){}},this.initialise=function(e){var t=-1,i=0,a=e||r._config;try{if(!Array.isArray(a))throw"GlassVox config error: config is not an array";for(var l,n=[],s=new GlassVoxConfigValidator(r._defaultConfig,r._requiredConfig),t=0;t<a.length;t++)a[t]=s.fixBackwardsCompatability(a[t]),void 0===(e=s.validateConfig(a[t]))?(l=s.lastError||"",o="GlassvoxPlugin error validating config"+(0<=t?" item "+t:""),r._eventBus?r._eventBus.emit("glassvoxError",o,l):r._handleError(o,l)):n.push(e);for(r._config=n,t=0;t<r._config.length;t++)t>=r._instances.length&&r._instances.push(new GlassVoxInstance(r._config[t],r._forPreview,r._storageAccessor,r._eventBus,r.nextButtonId,r._utils,r._detector)),r._instances[t].initialise(r._config[t],i),i|=r._instances[t].triggered;for(;t<r._instances.length;)r._instances[t].destroy(),r._instances.splice(t,1)}catch(e){var o="GlassvoxPlugin error initialising"+(0<=t?" item "+t:"");r._eventBus?r._eventBus.emit("glassvoxError",o,e):r._handleError(o,e)}},this.initialize=function(e){try{r._eventBus||(r._eventBus=e,r._eventBus.on("glassvoxPageCompleted",r._detector.saveVoc),r._eventBus.on("glassvoxResponse",r._sendResults),r._eventBus.on("glassvoxOpen",r._sendOpenedEvent),r._eventBus.on("glassvoxClose",r._sendClosedEvent),r._eventBus.on("glassvoxComplete",r._sendCompletedEvent),r._eventBus.on("session:new",r._onNewSession),r._eventBus.on("glassvoxError",r._handleError),r.isInit=!0)}catch(e){r._eventBus&&r._eventBus.emit("glassvoxError","GlassvoxPlugin.initialize",e)}}}function onload(){try{self._detector&&self._detector.initialiseGlassvox()}catch(e){}}onload();
